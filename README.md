

# <p align="center"> ![image](https://github.com/HunterBjj/SBH_company/assets/64096687/9151da16-39d1-420e-b359-1f6b5ef7fac9) </p>
# Тестовое задание компании SMEDIA BUYING HOLDING

Воронка начинается после первого сообщения от клиента.
Пояснение: бот проверяет есть ли человек в БД, и если нет, то регистрирует его в БД и начинается воронка
Через какое время:
Сообщения, которые отправляет с момента последнего
через 10 минут	Добрый день!
через 90 минут	Подготовила для вас материал
Сразу после	Отправка любого фото
Через 2 часа, если не найден в истории сообщений триггер "Хорошего дня" (от лица нашего аккаунта)
Скоро вернусь с новым материалом!
ЯП -- python. Использовать sqlalchemy (asyncpg) - для БД, pyrogram - для взаимодействия с Telegram API. Логировать каждую успешную отправку сообщения с помощью loguru. Сделать возможность просмотра кол-во зарегистрированный людей в БД за сегодня с помощью отправки команды /users_today в избранное аккаунта.

Для запуска телеграмм бота необходимо:
- git clone https://github.com/HunterBjj/SBH_company/;
- pip install pyrogram;
- pip install asyncpg;
- установить и настроить БД в файле connect_db;
- установить и настроийть соеденение и прописать код в файле main:
    - api_id = ;
    - api_hash = " ".

  Приложение состоит из сообщений, которые отправляет бот:
  
  ![image](https://github.com/HunterBjj/SBH_company/assets/64096687/eb74851a-8cd5-4a72-bb87-9e98376f7d58)
   <p align="center"> Рисунок 1 - Работа бота </p>
   
      База данных PostgreSQL состоит из одной таблицы:
    - users (пользователи).

      
    <p align="center"> Заключение </p>
    
> Т.к опыт написание телеграмм бота был мал и на языке С#, я долго изучал библиотку https://docs.pyrogram.org/, входе работы был получен опыт работы с частным телеграмм ботом и СУБД PostgreSQL. 
